Change Log for tacg development

$Id: ChangeLog,v 1.5 2005/02/04 04:30:17 mangalam Exp $ 

2005.02.03 Harry Mangalam, hjm@tacgi.com
 * bugfix to PrintORFMap() that caused a segfault when doing 
   discontinuous frames that had no ORFs larger than minimum.
   - faulted when there was nothing to do :) 
 * not a change yet, but consider finally adding the agrep code
   to tacg.  it's only been several years of the semi-finished
   code hanging around like a dead albatross....
 * need to add the ktacg code to the CVS tree as well.
 
2005.02.01 Harry Mangalam, hjm@tacgi.com
 * updated tacg.sf.net to reflect new fixes
 * started work on using Kommander to make a GUI version of tacg
   (called, in a fit of mediocrity, ktacg).  Form more or less usable;
   need work on the perl script - essentially a standalone version of 
   the cgi script, altho the interface can have a lot more interactivity
   associated with it as I learn all the dcop and kmdr functionality.

2005.01.26 Harry Mangalam, hjm@tacgi.com
 * fixed RE_Filters_OK() to work on results form -o corectly
 * zillion minor changes and updates in Docs, web pages 

2005.01.21 Harry Mangalam, hjm@tacgi.com
 * added --orfmap with orfmap and MET/STOP map & incorporated into test
 * brought codon.data up to date (now has 17 tables)
 * fixed up the web install package
 * updated LOTS of docs and small tweaks
 

2004.07.06 Harry Mangalam, hjm@tacgi.com
 * added --infile option for Incogen
 * brought -h output and tacg.1 up to date to reflect the addition
 * found & fixed small buglet whereby if -b or -e specified a number longer 
   than the seq len, tacg silently ignored it.  This is bc tacg doesn't start
   counting until the -b flag is exceeded and stops counting when it hits -e
   flag or the end (assuming that you want to go as far as possible.  Until I
   make teh GetSequence routines count the whole sequence and then cut out the
   wanted slice, I won't be able to figure this out.  Instead, added an NB:
   line whenever a subsequence is requested.
 
 
2004.06.10 Harry Mangalam, hjm@tacgi.com
 * fixed problem with leading 'n's in pattern.  
 * previously added pcre replacing posix regex stuff 
 * added check for pcre lib in configure, Makefile and tacg.c, tho entire 
   check isn't finished for all platforms.
 * discovered that SOlaris crash on --silent is only present with -O2 CFLAG (??)
 
 
2004.04.23 Harry Mangalam, hjm@tacgi.com
 * fixed strange error that only showed up when asking for SORTED fragments
   when forcing circular topology.  Wrong index passed to qsort().

2004.2.9 Harry Mangalam, hjm@tacgi.com
 * fixed weird, never seen before, bug that caused the fragment table to print incorrectly after hitting a pattern that allowed an error.  Typically, you're not looking for FRAGMENTS generated by a degenerate pattern, but rather sites, so while it was a simple off-by-one error, I'd never seen it before.
 * changed the tests and checksums to match this fix.
 * some more work on the automatic web installation app, mostly better comments in the script.
 

2004.1.26 Harry Mangalam, hjm@tacgi.com
 * added tests for raw, mod'ed the seq file and changed all MD5 and wc sigs
 * fixed bug in --revcomp and added test for --revcomp, --rev, --comp
 * removed --revnum option as it wasn't coded and inserted appro err message
 * tested make newdist, tarball, deb
 * added GCC_VER to the output of --version since there are wild differences in buildability across gcc versions.
 * removed --version test as it will almost always fail (depends on local configs)
 * fixed --clone function (wasn't zero'ing an array and it was picking up random integers as being valid when evaluating it post-cut)
 

2004.1.22 Harry Mangalam, hjm@tacgi.com
 * when trying to clean up memory cruft, added free()s to clean up after hashtable, but if using regex DON'T use hashtable so try to free() an unallocated pointer.
 * added test for --clone, found errors in range checking - fixed and improved error messages.
 *removed tests for postscript and PDF - output is too variable to test repeatably.
 * added test for --cost
 * added test for overhang


2003.12.28 Harry Mangalam, hjm@tacgi.com 
 * changed plasmid Label tics to thin/thick (wow)

 
2003.12.15 Harry Mangalam, hjm@tacgi.com 
 * And chansed the problem back to its entry point in tacg.  Checked all teh pointers comin in with teh SEQinfo struct and changed them to strings if they were NULLs.  This seems to have fixed all the crashing on Solaris (and on MacOSX at least on a that problem).  
 
 * on MacOSX, the regex stuff still seeems to be failing.  Still not fixed.
 * on Solaris, the ghostscript conversion seems to be failing on 'sense' bc of missing fonts.  Still have to install gs on the mac and see if that fixes things.

2003.12.11 Harry Mangalam, hjm@tacgi.com 
 * figured out (finally!) the cause of the crashing on Solaris - seqio is passing back a bad sequence identifier on those formats that do't have formal identifiers, so formats like FASTA crash, while Genbank passes the identifiers and work correctly.  I've just removed the print statement that tried to access that pointer and will pass it on to the Solaris-interested people while trying to get to the root cause.  Because on Linux, it gets printed as NULL, there's probably a pointer conversion problem somewhere in seqio.
 * There's still some left over format cruft in the -l (ladder) routine that prints the 'few cutters' map.  It seems to be shifted over a bit and doesn't always get printed completely.  Someone noted that it crashed on/near this function on the Mac version as well.  This is probably a result of the futzing I did a while ago to 'improve' the output.  Maybe de-improve it back to the original.
 * the GS version on the Mac still has bugs as well, beyond the label placement bits.  Time to do the label placement RIGHT this time.
 * nother person asking for postscript ladder map.  Time to do this?  should be a lot easier than the circular plasmid map...

2003.05.30 Harry Mangalam, hjm@tacgi.com 
 * fixed the ghostscript bug - still some problems in the generation of the 
   postscript - not enuf error checking, but the thang executes as it's supposed 
   toat least if the postscript is good.

2003.05.29 Harry Mangalam, hjm@tacgi.com 
 * minor fix to seqio.c to allow OSX to include <dirent.h>
 * removed fmax() declaration - there was no parallel function anyway - 
   looked like the floating point match to imax() but no code for it.
 * Fixed a bunch of stuff in the configure /make process so things don't 
   break on different platforms
 * updated the config.guess & config.sub to allow finding OSX
 * re-included getopt1.c so that it compiles on Solaris - otherwise 
   getopt_long doesn't get defined.
 * added the psprolog file to the tarball so --ps, --pdf can work.
 * added automatic making of newdist and tarball to automagically build a distro -
   this now works very well and keeps track of the key files to include.
 * tested build procedure on sf compile farm on the following machines:
 
   - Debian 2.2 Intel SMP (gcc 2.95)
     Linux usf-cf-x86-linux-1 2.4.19 #1 SMP  i686 unknown
   
   - RedHat 7.3 Intel SMP (gcc 2.96)
     Linux usf-cf-x86-linux-2.cf.sourceforge.net 2.4.18-5smp #1 SMP \
     i686 unknown
   
   - Debian 3.0  Alpha (gcc 2.95.4)
     Linux usf-cf-alpha-linux-1 2.2.20 #2 alpha unknown
     
   - Debian SPARC (gcc 2.95)
     Linux usf-cf-sparc-linux-1 2.4.18 #2  sparc64 unknown
     
   - Solaris 5.8 (gcc )
      
   - Mac OSX 10.2 (gcc 3.1)
     Darwin ucf-cf-ppc-macosx-2 6.5 Darwin Kernel Version 6.5:  \
     root:xnu/xnu-344.32.obj~1/RELEASE_PPC  Power Macintosh powerpc
   

2003.05.19 Harry Mangalam, hjm@tacgi.com 
 * changed --idonly to have default as 1 (don't have to specify the flag value)
 

2003.05.16 Harry Mangalam, hjm@tacgi.com 
 * tested vs the old readseq test sequences - seems to read all but
   test.m-paup and test.strider (ascii format).  Have to verify a 
   bit more and see what' not working.  Since I have the binary 
   strider format reader working - it might be useful to mod seqio 
   to do that as well using pcre.
 * fixed a BUG that filtered teh wrong enzyme (filtered on proto 
   index instead of proto[index])
 * added and cleaned up verbosity levels so that verbosity is 
   upwardly inclusive (ie -V3 contains all the verbosity of V1 and V2)
 * make install, make newdist, make tarball, make install_web added to
   Makefile.in and they seem to work altho install_web just tells the 
   user what to do - edit & run the web installer script.

2003.05.09 Harry Mangalam, hjm@tacgi.com 
 * removed all traces of udping.c and udp reporting from code.
 
2003.03.14 Harry Mangalam, hjm@tacgi.com  
 * RE contains .E_olap which is the size of the overlap,
   if any.  Could  be combined with -o to provide selection of REs
   that provide only 5' overhangs  of size 3, for example. currently
   -o5, -o0 -o3; could graft on a hack to allow  user to extend to
   add a number if 5 or 3 ie -o5,5 which would select only REs  that
   have a 5' overhang of length 5 - OK!  Done!


2003.02.25.23 Harry Mangalam, hjm@tacgi.com 
 * 2.25.03 - Brian Frist sez following work on both Linux and SOlaris:
   Fasta EMBL Genbank IG Plain NBRF Phylip3.2 Phylip MSF but there are some 
   others that fail mysteriously on some platforms - not completely solved yet..
 * Following worked on Linux but not on SOlaris:
   Phylip3.2 Phylip MSF

 * Following worked on Solaris but not on Linux:
   CODATA

 * and NONE of the other formats generated by readseq worked on either, 
   not even GCG
   This disagrees with running the test sequences from readseq thru it tho..
   requires more investigation...

   
2002-11.23 Harry Mangalam, hjm@tacgi.com 
  * added code to add a '-' to site numbers when nonpals are found on the
    bottom strand (suggested by Stefanie Lager), so that Site output now
    includes both positive and negative numbers (all numbered relative to the
    top strand tho).  Still need to add a mod to -S flag to optionally enable 
    this, tho.
  * added and modified code to allow pattern labels longer than 10 chars - 
    now have to be #defined for building in tacg.h (MAX_PAT_NAME_LEN) and 
    then the RE struct is checked for the longest name and that length is 
    used for output, etc (stored in F.MaxPatNameLen).

2001-10-17 Harry Mangalam, hjm@tacgi.com 
   * Fixed BAD realloc bug in ReadEnz in which test for end of alloc'ed mem in
      RE was  calculated wrong - basic math error.  Showed up bc trying to do a
      bunch of matching with errors and the cal overflowed the end of RE.

2001-06-09 Harry Mangalam, hjm@tacgi.com  
  * Added & deleted a bunch of files from CVS to bring things up to date
  * made the Logging of Degens optional to save memory
  * brought tacg.1 man page more up to date.
  * 
